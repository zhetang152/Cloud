#### Perlin噪声
Perlin噪声是一种梯度噪声, 通过在一个伪随机梯度场中进行平滑插值, 能够生成具有自然外观的连续多维标量场. 在本项目的云层模拟中, 它被用于构建初始的三维密度场.

**算法原理**

该算法的核心思想是: 空间中任意一点的噪声值由其所在整数晶格的顶点共同决定.

**核心步骤**

1. **定义梯度场**: 对于三维整数晶格上的每一个顶点 $p\in\mathbb{Z}^3$ , 我们通过一个确定性的哈希函数为其分配一个伪随机的单位梯度向量 $g_p$. 在本实现中, 该哈希函数基于大素数与位运算构造，以保证高效的计算与良好的雪崩效应.

2. **计算影响值**: 对于空间中任意一个采样点 $P\in\mathbb{R}^3$ , 首先定位到包含该点的单位立方体。该立方体的8个顶点 $p_i$ 将共同决定点P的噪声值。对于每一个顶点 $p_i$ , 我们计算其梯度向量 $g_{p_i}$ 与从该顶点指向采样点P的位移向量(P− $p_i$ )之间的点积. 这个点积的结果是一个标量, 定义了该顶点对采样点P的影响值.

3. **平滑插值**: 为了将8个顶点各自离散的影响值融合成一个连续平滑的最终结果, 我们采用三次线性插值. 在插值之前, 用于计算权重的采样点相对位置分量, 会先通过一个五次缓和曲线( $f(t)=6t^5-15t^4+10t^3$ )进行映射.此举可确保最终生成的噪声场在晶格边界处达到二阶导数连续,从而消除不自然的视觉瑕疵,生成更为柔和的云层形态.

